<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>FAForever Patchnotes - Balance & Game Updates</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Browse and access the latest FAForever balance and game patch notes in an easy-to-read format.">
    <meta name="keywords" content="FAForever, Supreme Commander, Forged Alliance, balance patches, game updates, strategy game">
    <meta name="author" content="FAForever">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://faforever.com/patchnotes">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#00d2ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="FA Patches">
    <link rel="apple-touch-icon" href="./assets/images/icons/icon-192x192.png">
    
    <!-- Performance optimizations -->
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    <link rel="dns-prefetch" href="https://raw.githubusercontent.com">
    <link rel="preload" href="./style/index.css" as="style">
    <link rel="preload" href="./assets/images/faction/UEF.svg" as="image">
    <link rel="preload" href="./assets/images/faction/Cybran.svg" as="image">
    <link rel="preload" href="./assets/images/faction/Aeon.svg" as="image">
    <link rel="preload" href="./assets/images/faction/Seraphim.svg" as="image">
    
    <!-- META Tags For Discord and Social Sharing -->
    <meta name="twitter:image:src" content="https://raw.githubusercontent.com/FAForever/patchnotes/master/assets/images/thumbnail/thumbnail.png">
    <meta name="twitter:site" content="@FAForever">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="FAForever Patchnotes - Balance & Game Updates">
    <meta name="twitter:description" content="Browse and access the latest FAForever balance and game patch notes in an easy-to-read format.">
    
    <meta property="og:image:url" content="https://raw.githubusercontent.com/FAForever/patchnotes/master/assets/images/thumbnail/thumbnail.png">
    <meta property="og:image:alt" content="FAForever Patchnote Site">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="600">
    <meta property="og:site_name" content="FAForever">
    <meta property="og:type" content="website">
    <meta property="og:title" content="FAForever Patchnotes - Balance & Game Updates">
    <meta property="og:url" content="https://faforever.com/patchnotes">
    <meta property="og:description" content="Browse and access the latest FAForever balance and game patch notes in an easy-to-read format.">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "FAForever Patchnotes",
      "description": "Browse and access the latest FAForever balance and game patch notes in an easy-to-read format.",
      "url": "https://faforever.com/patchnotes",
      "publisher": {
        "@type": "Organization",
        "name": "FAForever",
        "url": "https://faforever.com"
      },
      "mainEntity": {
        "@type": "WebPage",
        "@id": "https://faforever.com/patchnotes",
        "name": "Balance Patches",
        "description": "Collection of Supreme Commander: Forged Alliance Forever balance and game updates"
      }
    }
    </script>

    <!-- External CSS -->
    <link rel="stylesheet" href="./style/index.css">
    <link rel="stylesheet" href="./style/pwa.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    
    <!-- Critical CSS for above-the-fold content -->
    <style>
      body { 
        font-family: 'Open Sans', sans-serif; 
        margin: 0; 
        background: #222831; 
        color: #eee; 
      }
      .GridContainer { 
        display: grid; 
        padding: 10px; 
        grid-template-columns: 0.25fr 2.5fr 2.5fr 0.25fr; 
        grid-gap: 20px; 
        margin: 10px; 
      }
      .loading-state {
        text-align: center;
        padding: 40px;
        color: #999;
      }
    </style>

    <!-- External Scripts -->
    <script src="./scripts/errorBoundary.js" defer></script>
    <script src="./scripts/performance.js" defer></script>
    <script src="./scripts/analytics.js" defer></script>
    <script src="./scripts/backgroundRandom.js" defer></script>
    <script src="./scripts/search.js" defer></script>
    <script src="./scripts/populatePatches.js" defer></script>
    <script src="./scripts/themeSwitch.js" defer></script>
    <script src="./scripts/backToTop.js" defer></script>
    <script src="./scripts/pwa.js" defer></script>
  </head>
  <body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link" aria-label="Skip to main content">Skip to main content</a>
    
    <main id="main-content" class="GridContainer">
      <div class="Space"></div>

      <!-- Title Section -->
      <header class="Title GridItemBackground">
        <h1>
          <img alt="UEF Faction Logo" class="UEF" src="./assets/images/faction/UEF.svg" loading="lazy">
          <img alt="Cybran Faction Logo" class="CYBRAN" src="./assets/images/faction/Cybran.svg" loading="lazy">
          FAForever Patchnotes
          <img alt="Aeon Faction Logo" class="AEON" src="./assets/images/faction/Aeon.svg" loading="lazy">
          <img alt="Seraphim Faction Logo" class="SERAPHIM" src="./assets/images/faction/Seraphim.svg" loading="lazy">
        </h1>
      </header>

      <!-- Balance Patch Section -->
      <section class="BalanceContainer GridItemBackground">
        <h2>Balance Patches</h2>
        <!-- Search and Filter Controls -->
        <div class="patch-controls">
          <div class="search-container">
            <input 
              type="search" 
              id="patch-search" 
              placeholder="Search patches..." 
              aria-label="Search through patch notes"
              autocomplete="off"
            >
            <button type="button" id="clear-search" aria-label="Clear search" title="Clear search">×</button>
          </div>
          
          <div class="filter-container">
            <label for="year-filter">Filter by year:</label>
            <select id="year-filter" aria-label="Filter patches by year">
              <option value="">All years</option>
            </select>
          </div>
        </div>
        
        <div class="BalanceJSONList" role="list" aria-label="List of balance patches"></div>
      </section>

      <!-- Theme Toggle -->
      <div class="ThemeToggleContainer">
        <button id="themeToggleButton" aria-label="Switch to light theme" title="Switch color theme">Switch to Light</button>
      </div>

    </main>
    
    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top" aria-label="Back to top" title="Back to top">↑</button>
  </body>
</html>
